# DeDox - Environment Variables
# This file contains ALL available configuration options
# Copy to .env and customize for your deployment

# =============================================================================
# SECURITY - CHANGE THESE IN PRODUCTION!
# =============================================================================

# JWT secret for DeDox API authentication (generate with: openssl rand -base64 32)
DEDOX_JWT_SECRET=change-this-to-a-secure-random-string

# DeDox admin user credentials (auto-created on first startup if no users exist)
# Password must be at least 8 characters
DEDOX_ADMIN_EMAIL=admin@example.com
DEDOX_ADMIN_PASSWORD=changeme123

# Webhook signature secret for Paperless-ngx webhooks (optional, for HMAC verification)
DEDOX_WEBHOOK_SECRET=

# =============================================================================
# PAPERLESS-NGX CONNECTION
# =============================================================================

# Paperless-ngx URL
DEDOX_PAPERLESS_URL=http://localhost:8080

# Authentication Option 1: Direct API token (if you already have one)
DEDOX_PAPERLESS_TOKEN=

# Authentication Option 2: Admin credentials for automatic token generation
# Leave DEDOX_PAPERLESS_TOKEN empty to use these instead
PAPERLESS_ADMIN_USER=admin
PAPERLESS_ADMIN_PASSWORD=admin

# =============================================================================
# OPEN WEBUI CONNECTION
# =============================================================================

# Authentication Option 1: Direct API key (if you already have one)
DEDOX_OPENWEBUI_API_KEY=

# Authentication Option 2: Admin credentials for automatic setup
# These credentials are used for:
# 1. Auto-creating the admin user in Open WebUI on first startup
# 2. Auto-generating an API key for DeDox to use
# Leave DEDOX_OPENWEBUI_API_KEY empty to use these instead
OPENWEBUI_ADMIN_EMAIL=admin@example.com
OPENWEBUI_ADMIN_PASSWORD=admin

# Knowledge base ID (leave empty for auto-creation of "DeDox Documents" KB)
DEDOX_OPENWEBUI_KB_ID=

# =============================================================================
# BUNDLED SERVICES (docker-compose.yml only)
# =============================================================================

# Open WebUI secret key (for bundled Open WebUI container)
OPENWEBUI_SECRET_KEY=change-this-to-a-secure-random-string

# Open WebUI frontend port (external access)
OPENWEBUI_PORT=3000

# Paperless-ngx secret key (for bundled Paperless container)
PAPERLESS_SECRET_KEY=change-this-to-a-secure-random-string

# PostgreSQL password (for bundled database)
POSTGRES_PASSWORD=paperless

# =============================================================================
# OPTIONAL ADVANCED SETTINGS
# =============================================================================

# Custom config directory (default: ./config)
# DEDOX_CONFIG_DIR=/path/to/config

# Ollama URL (only needed if not using bundled Ollama)
# DEDOX_OLLAMA_URL=http://localhost:11434

# Ollama model to pull on startup (used by docker-compose)
OLLAMA_MODEL=qwen2.5:14b

# Ollama context window size (num_ctx parameter)
# OLLAMA_CONTEXT_WINDOW=16384

# Max characters of OCR text to send to LLM
# OLLAMA_OCR_TEXT_LIMIT=8000

# =============================================================================
# PAPERLESS-NGX ADVANCED SETTINGS
# =============================================================================

# Paperless API version (for Accept header compatibility)
# PAPERLESS_API_VERSION=9

# Timeout for downloading documents (seconds)
# PAPERLESS_DOWNLOAD_TIMEOUT=120

# =============================================================================
# SERVICE SETTINGS
# =============================================================================

# Hostname used for webhook URL construction (container/service name)
# DEDOX_SERVICE_HOSTNAME=dedox

# =============================================================================
# OPEN WEBUI ADVANCED SETTINGS
# =============================================================================

# Polling interval for status checks (seconds)
# OPENWEBUI_POLL_INTERVAL=5
